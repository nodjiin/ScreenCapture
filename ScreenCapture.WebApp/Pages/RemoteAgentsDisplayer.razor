@using ScreenCapture.WebApp.Services.Interfaces;
@inject IRemoteAgentsMonitor monitor


<CollectionGridDisplayer Collection="agents">
    <EmptyCollectionTemplate>
        <text>No agent has been configured.</text>
    </EmptyCollectionTemplate>
    <CollectionItemTemplate>
        <RemoteAgentCard Agent="context" />
    </CollectionItemTemplate>
</CollectionGridDisplayer>



@code {
    private List<IRemoteAgent> agents;

    protected override void OnInitialized()
    {
        monitor.StartMonitoring();
        agents = monitor.RemoteAgents;

        base.OnInitialized();
    }
}
